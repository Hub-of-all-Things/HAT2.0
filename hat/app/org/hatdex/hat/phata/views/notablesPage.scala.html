@(
        maybeUser: Option[org.hatdex.hat.authentication.models.HatUser] = None,
        selectedNotable: Option[org.hatdex.hat.phata.models.Notable],
        notables: Seq[org.hatdex.hat.phata.models.Notable]
)(implicit hatPublicInfo: org.hatdex.hat.phata.models.HatPublicInfo, requestHeader: RequestHeader, messages: Messages)

@import org.hatdex.hat.phata.views.html._

@meta = {
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@@thehatdex">
    <meta name="twitter:title" content="Personal HAT page @hatPublicInfo.hatName">
    <meta name="twitter:description" content="Welcome to my HAT">
    <meta name="twitter:image:src" content="https://@hatPublicInfo.domain/assets/images/HAT_logo_mydata.png">
    <meta name="twitter:domain" content="https://@hatPublicInfo.domain">
    <meta property="og:url" content="https://@hatPublicInfo.domain" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Personal HAT page @hatPublicInfo.hatName" />
    <meta property="og:description" content="Welcome to my HAT" />
    <meta property="og:image" content="https://@hatPublicInfo.domain/assets/images/HAT_logo_mydata.png" />
    <meta property="og:site_name" content="HAT" />
    <meta property="og:app_id" content="158753364485419" />

}

@menubarcontent = @{
    components.menubarLeft(None, Some(hatPublicInfo.hatName), hatAddress = Some(hatPublicInfo.domain), tab = "notables")
}

@notablesscripts = {
    <script>
            $(".notable-item").click(function () {
                var id = $(".header-content", this).data("id");
                window.location.href = "/notables?id=" + id;
            })
    </script>
}


@main("Welcome to the HAT", maybeUser, hatName = Some(hatPublicInfo.hatName), menubarContent = menubarcontent, meta = meta, scripts = notablesscripts) {
    <div class="grid">
        @selectedNotable.map { note =>
            <div class="wrapper grid-item item-wide">
                @*<div class="box-square aspect-ratio"></div>*@
                <div class="box-content notable-full-view" id="notable-full-view">
                    <h1><span class="icon ss-write"></span>&nbsp;Notable <span class="notable-id">@note.id</span></h1>
                    @components.notable(note)
                </div>
            </div>
        }
        <div class="wrapper grid-item item-wide">
            @*<div class="box-square aspect-ratio"></div>*@
            <div class="box-content notes">
                <h1><span class="icon ss-write"></span>&nbsp;My Public Notables</h1>
                @notables.map { note =>
                    @if(selectedNotable.map(_.id).contains(note.id)) {
                        <div class="active">
                        @components.notable(note)
                        </div>
                    } else {
                        @components.notable(note)
                    }
                }
            </div>
        </div>
    </div>

}